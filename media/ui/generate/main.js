import{j as s,r as u,n as m,c as y}from"../index.browser/chunks/index.browser.js";function g({color:e="primary",style:n,className:a,...t}){let o="var(--vscode-button-background)",r="var(--vscode-button-foreground)";return e==="secondary"?(o="var(--vscode-editorWidget-background)",r="var(--vscode-descriptionForeground)"):e==="none"&&(o="none",r="inherit"),s.jsx("button",{...t,className:`btn ${a??""}`,style:{background:o,color:r,border:"none",padding:"4px 12px",borderRadius:4,cursor:"pointer",...n}})}const b={background:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:4,outline:"none",transition:"box-shadow 0.2s, border-color 0.2s"},w={border:"#0078d4 1px solid"};function h(e){const{rows:n,className:a,style:t,...o}=e,[r,i]=u.useState(!1),d={padding:"8px",...b,...r?w:{},...t};return n?s.jsx("textarea",{rows:n,...o,className:`input ${a??""}`,style:d,onFocus:c=>{i(!0),e.onFocus?.(c)},onBlur:c=>{i(!1),e.onBlur?.(c)}}):s.jsx("input",{...o,className:`input ${a??""}`,style:d,onFocus:c=>{i(!0),e.onFocus?.(c)},onBlur:c=>{i(!1),e.onBlur?.(c)}})}let l=null;typeof window<"u"&&window.acquireVsCodeApi&&(l||(l=window.acquireVsCodeApi()));function j(){const e=l,n=u.useRef(new Set);return u.useEffect(()=>{const t=o=>{n.current.forEach(r=>r(o.data))};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}},[]),e?{postMessage:t=>e.postMessage(t),onMessage:t=>n.current.add(t),offMessage:t=>n.current.delete(t)}:null}function C(e){async function n(a,t={}){if(!e)throw new Error("VS Code API not available");const o=m();return new Promise((r,i)=>{const d=c=>{const{mcp:p}=c;if(!p)return;const{requestId:x,result:v,error:f}=p||{};x===o&&(e?.offMessage?.(d),f?i(f):r(v))};e.onMessage?.(d),e.postMessage({mcp:{mcpId:a,payload:t,requestId:o}})})}return{dispatch:n}}function A({children:e,...n}){return s.jsx("nav",{...n,style:{display:"flex",alignItems:"center",gap:"var(--space-2)",padding:"var(--space-1) var(--space-2)",...n.style},children:e})}function E({onCreate:e}){const[n,a]=u.useState(""),t=j(),o=C(t),r=()=>{o.dispatch("agent.createAgent",{description:n}),a("")};return s.jsxs(M,{children:[s.jsx(h,{value:n,onChange:i=>a(i.target.value),placeholder:"What do you want your agent to do?",rows:4}),s.jsxs(A,{style:{paddingTop:"8px"},children:[s.jsx(g,{onClick:r,color:"secondary",children:"Import"}),s.jsx("span",{style:{flex:1}}),s.jsx(g,{onClick:r,children:"Create new agent"})]})]})}function M({children:e}){const n={margin:"16px",display:"flex",flexDirection:"column"};return s.jsx("div",{style:n,children:e})}function S(){return s.jsx(E,{})}const F=y.createRoot(document.getElementById("root"));F.render(s.jsx(S,{}));
